<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="application.MainMenuController"
           prefWidth="420" prefHeight="1000"
           stylesheets="@styles.css"
           styleClass="root dark">

    <VBox alignment="TOP_CENTER" spacing="18">
        <VBox prefHeight="36"/>

        <!-- Title -->
        <Label text="Basic Security System"
               styleClass="title title-center"
               style="-fx-text-fill: #F7FBFF; -fx-font-size: 28px; -fx-font-weight: 700;" />

        <!-- Logged in label -->
        <Label fx:id="loggedInLabel"
               text=""
               visible="false"
               style="-fx-text-fill: #F7FBFF; -fx-font-size: 14px;"/>

        <!-- Main button card -->
        <StackPane styleClass="rect-card" prefWidth="360" prefHeight="280">
            <HBox spacing="16" alignment="CENTER" prefWidth="320">
                <!-- Always visible -->
                <Button fx:id="loginButton" onAction="#handleLogin" styleClass="rect-button" text="Login" contentDisplay="TOP"
                        prefWidth="180">
                    <graphic>
                        <StackPane>
                            <Rectangle styleClass="placeholder-rect" />
                            <Label text="ðŸ”’" styleClass="icon-label" />
                        </StackPane>
                    </graphic>
                    <HBox.hgrow>
                        <Priority fx:constant="NEVER" />
                    </HBox.hgrow>
                </Button>

                <Button fx:id="signUpButton" onAction="#handleSignUp" styleClass="rect-button" text="Sign Up" contentDisplay="TOP"
                        prefWidth="180">
                    <graphic>
                        <StackPane>
                            <Rectangle styleClass="placeholder-rect" />
                            <Label text="ðŸ‘¤" styleClass="icon-label" />
                        </StackPane>
                    </graphic>
                    <HBox.hgrow>
                        <Priority fx:constant="NEVER" />
                    </HBox.hgrow>
                </Button>

                <!-- Appears when logged in -->
                <Button fx:id="fileEncryptButton" onAction="#handleFileEncrypt" styleClass="rect-button" text="File Encrypt" 
                        contentDisplay="TOP" visible="false" prefWidth="180">
                    <graphic>
                        <StackPane>
                            <Rectangle styleClass="placeholder-rect" />
                            <Label text="ðŸ”" styleClass="icon-label" />
                        </StackPane>
                    </graphic>
                    <HBox.hgrow>
                        <Priority fx:constant="NEVER" />
                    </HBox.hgrow>
                </Button>

                <!-- Admin users only -->
                <Button fx:id="adminButton" onAction="#handleAdmin" styleClass="rect-button" text="Admin" contentDisplay="TOP" 
                        visible="false" prefWidth="180">
                    <graphic>
                        <StackPane>
                            <Rectangle styleClass="placeholder-rect" />
                            <Label text="ðŸ”‘" styleClass="icon-label" />
                        </StackPane>
                    </graphic>
                    <HBox.hgrow>
                        <Priority fx:constant="NEVER" />
                    </HBox.hgrow>
                </Button>
            </HBox>
        </StackPane>

        <VBox prefHeight="60"/>
        <Button fx:id="exitButton" onAction="#handleExit" styleClass="glass-button small-exit" text="Exit" />
    </VBox>
</StackPane>
